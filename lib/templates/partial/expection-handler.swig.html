<script src="javascripts/raven-3.10.0.min.js" crossorigin="anonymous"></script>
<script>
    Raven.config('{{ SENTRY_DSN }}', {
        autoBreadcrumbs: { xhr: false }
    }).install();
    // 全局JS异常捕获方法
    window.onerror = function (msg, file, line, column, error) {
        var err;
        err = 'Uncatch Error in ' + file + ':' + line;
        if (column) err += ',' + column;
        err += ' -> ' + msg;
        if(error) err = error;
        if (typeof (Raven) === 'object' && Raven.isSetup()) {
            error ? Raven.captureException(err) : Raven.captureMessage(err);
        }
        console.error(err);
    }
</script>
